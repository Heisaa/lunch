import{S,i as k,s as T,k as _,q as x,a as b,l as y,m as w,r as D,h,c as M,b as m,G as g,u as C,H as v,o as O,g as p,f as q,d as N,J as E,y as L,z as A,A as F,B as I,v as P}from"../chunks/index.d7db5ae4.js";function j(u){let e,o=u[0].name+"",n,i,l;return{c(){e=_("h2"),n=x(o),i=b(),l=_("div")},l(r){e=y(r,"H2",{});var t=w(e);n=D(t,o),t.forEach(h),i=M(r),l=y(r,"DIV",{});var d=w(l);d.forEach(h)},m(r,t){m(r,e,t),g(e,n),m(r,i,t),m(r,l,t),l.innerHTML=u[1]},p(r,[t]){t&1&&o!==(o=r[0].name+"")&&C(n,o),t&2&&(l.innerHTML=r[1])},i:v,o:v,d(r){r&&h(e),r&&h(i),r&&h(l)}}}function B(u,e,o){let{restaurant:n}=e,i;return O(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(n.url)}`).then(l=>{if(l.ok)return l.json();throw new Error("Network response was not ok.")}).then(l=>{const r=new DOMParser().parseFromString(l.contents,"text/html");o(1,i=n.getHtml(r))})}),u.$$set=l=>{"restaurant"in l&&o(0,n=l.restaurant)},[n,i]}class R extends S{constructor(e){super(),k(this,e,B,j,T,{restaurant:0})}}function H(u,e,o){const n=u.slice();return n[6]=e[o],n}function $(u){let e,o;return e=new R({props:{restaurant:u[6]}}),{c(){L(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,i){F(e,n,i),o=!0},p:v,i(n){o||(p(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){I(e,n)}}}function U(u){let e,o,n,i,l,r=u[0],t=[];for(let a=0;a<r.length;a+=1)t[a]=$(H(u,r,a));const d=a=>N(t[a],1,1,()=>{t[a]=null});return{c(){e=_("div"),o=_("h1"),n=x("Äh, de e lunch"),i=b();for(let a=0;a<t.length;a+=1)t[a].c()},l(a){e=y(a,"DIV",{});var c=w(e);o=y(c,"H1",{});var s=w(o);n=D(s,"Äh, de e lunch"),s.forEach(h),i=M(c);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(h)},m(a,c){m(a,e,c),g(e,o),g(o,n),g(e,i);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);l=!0},p(a,[c]){if(c&1){r=a[0];let s;for(s=0;s<r.length;s+=1){const f=H(a,r,s);t[s]?(t[s].p(f,c),p(t[s],1)):(t[s]=$(f),t[s].c(),p(t[s],1),t[s].m(e,null))}for(P(),s=r.length;s<t.length;s+=1)d(s);q()}},i(a){if(!l){for(let c=0;c<r.length;c+=1)p(t[c]);l=!0}},o(a){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)N(t[c]);l=!1},d(a){a&&h(e),E(t,a)}}}function V(u){const e=new Date().getDay(),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],i=o[e],l=n[e];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(t){const d=t.querySelector(`#${i.toLowerCase()}`);return d?d.innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(t){const d=Array.from(t.querySelectorAll(".wp-block-group__inner-container")).find(c=>c.children[0].textContent.trim()===l);return d?[...d.children].slice(1).map(c=>c.textContent.trim()).join("<br>"):"No lunch today!"}},{name:"Spill",url:"https://restaurangspill.se/",getHtml(t){const d=t.querySelector("#dagens");try{return d.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[1].childNodes[1].textContent}catch{return"No lunch today!"}}}]]}class z extends S{constructor(e){super(),k(this,e,V,U,T,{})}}export{z as default};
