import{S as T,i as D,s as M,k as p,q as N,a as x,e as H,l as g,m as y,r as b,h as f,c as C,b as m,G as _,u as E,H as w,o as O,g as v,f as q,d as k,J as L,y as V,z as I,A,B as F,v as P}from"../chunks/index.d7db5ae4.js";function j(u){let e,r;return{c(){e=p("div"),r=N("Väntar på lunchen")},l(n){e=g(n,"DIV",{});var i=y(e);r=b(i,"Väntar på lunchen"),i.forEach(f)},m(n,i){m(n,e,i),_(e,r)},p:w,d(n){n&&f(e)}}}function B(u){let e;return{c(){e=p("div")},l(r){e=g(r,"DIV",{});var n=y(e);n.forEach(f)},m(r,n){m(r,e,n),e.innerHTML=u[1]},p(r,n){n&2&&(e.innerHTML=r[1])},d(r){r&&f(e)}}}function R(u){let e,r=u[0].name+"",n,i,s;function d(t,o){return t[1]?B:j}let a=d(u),c=a(u);return{c(){e=p("h2"),n=N(r),i=x(),c.c(),s=H()},l(t){e=g(t,"H2",{});var o=y(e);n=b(o,r),o.forEach(f),i=C(t),c.l(t),s=H()},m(t,o){m(t,e,o),_(e,n),m(t,i,o),c.m(t,o),m(t,s,o)},p(t,[o]){o&1&&r!==(r=t[0].name+"")&&E(n,r),a===(a=d(t))&&c?c.p(t,o):(c.d(1),c=a(t),c&&(c.c(),c.m(s.parentNode,s)))},i:w,o:w,d(t){t&&f(e),t&&f(i),c.d(t),t&&f(s)}}}function U(u,e,r){let{restaurant:n}=e,i;return O(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(n.url)}`).then(s=>{if(s.ok)return s.json();throw new Error("Network response was not ok.")}).then(s=>{const d=new DOMParser().parseFromString(s.contents,"text/html");r(1,i=n.getHtml(d))})}),u.$$set=s=>{"restaurant"in s&&r(0,n=s.restaurant)},[n,i]}class W extends T{constructor(e){super(),D(this,e,U,R,M,{restaurant:0})}}function $(u,e,r){const n=u.slice();return n[6]=e[r],n}function S(u){let e,r;return e=new W({props:{restaurant:u[6]}}),{c(){V(e.$$.fragment)},l(n){I(e.$$.fragment,n)},m(n,i){A(e,n,i),r=!0},p:w,i(n){r||(v(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){F(e,n)}}}function z(u){let e,r,n,i,s,d=u[0],a=[];for(let t=0;t<d.length;t+=1)a[t]=S($(u,d,t));const c=t=>k(a[t],1,1,()=>{a[t]=null});return{c(){e=p("div"),r=p("h1"),n=N("Äh, de e lunch"),i=x();for(let t=0;t<a.length;t+=1)a[t].c()},l(t){e=g(t,"DIV",{});var o=y(e);r=g(o,"H1",{});var l=y(r);n=b(l,"Äh, de e lunch"),l.forEach(f),i=C(o);for(let h=0;h<a.length;h+=1)a[h].l(o);o.forEach(f)},m(t,o){m(t,e,o),_(e,r),_(r,n),_(e,i);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null);s=!0},p(t,[o]){if(o&1){d=t[0];let l;for(l=0;l<d.length;l+=1){const h=$(t,d,l);a[l]?(a[l].p(h,o),v(a[l],1)):(a[l]=S(h),a[l].c(),v(a[l],1),a[l].m(e,null))}for(P(),l=d.length;l<a.length;l+=1)c(l);q()}},i(t){if(!s){for(let o=0;o<d.length;o+=1)v(a[o]);s=!0}},o(t){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)k(a[o]);s=!1},d(t){t&&f(e),L(a,t)}}}function G(u){const e=new Date().getDay(),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],i=r[e],s=n[e];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(a){const c=a.querySelector(`#${i.toLowerCase()}`);return c?c.innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(a){const c=Array.from(a.querySelectorAll(".wp-block-group__inner-container")).find(o=>o.children[0].textContent.trim()===s);return c?[...c.children].slice(1).map(o=>o.textContent.trim()).join("<br>"):"No lunch today!"}},{name:"Spill",url:"https://restaurangspill.se/",getHtml(a){const c=a.querySelector("#dagens");try{return c.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[1].childNodes[1].textContent}catch{return"No lunch today!"}}}]]}class K extends T{constructor(e){super(),D(this,e,G,z,M,{})}}export{K as default};
