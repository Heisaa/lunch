import{S as O,i as V,s as K,k as y,q as E,a as T,e as C,l as v,m as b,r as I,h as m,c as D,b as N,G as g,u as F,H as $,o as P,J as j,n as p,g as H,f as B,d as q,K as G,y as R,z as U,A as W,B as z,v as J}from"../chunks/index.8cd63e6c.js";function Q(d){let e,n;return{c(){e=y("div"),n=E("Väntar på lunchen")},l(t){e=v(t,"DIV",{});var i=b(e);n=I(i,"Väntar på lunchen"),i.forEach(m)},m(t,i){N(t,e,i),g(e,n)},p:$,d(t){t&&m(e)}}}function X(d){let e;return{c(){e=y("div")},l(n){e=v(n,"DIV",{});var t=b(e);t.forEach(m)},m(n,t){N(n,e,t),e.innerHTML=d[1]},p(n,t){t&2&&(e.innerHTML=n[1])},d(n){n&&m(e)}}}function Y(d){let e,n=d[0].name+"",t,i,s;function _(r,u){return r[1]?X:Q}let f=_(d),o=f(d);return{c(){e=y("h2"),t=E(n),i=T(),o.c(),s=C()},l(r){e=v(r,"H2",{});var u=b(e);t=I(u,n),u.forEach(m),i=D(r),o.l(r),s=C()},m(r,u){N(r,e,u),g(e,t),N(r,i,u),o.m(r,u),N(r,s,u)},p(r,[u]){u&1&&n!==(n=r[0].name+"")&&F(t,n),f===(f=_(r))&&o?o.p(r,u):(o.d(1),o=f(r),o&&(o.c(),o.m(s.parentNode,s)))},i:$,o:$,d(r){r&&m(e),r&&m(i),o.d(r),r&&m(s)}}}function Z(d,e,n){let{restaurant:t}=e,i;return P(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(t.url)}`).then(s=>{if(s.ok)return s.json();throw new Error("Network response was not ok.")}).then(s=>{const _=new DOMParser().parseFromString(s.contents,"text/html");n(1,i=t.getHtml(_))})}),d.$$set=s=>{"restaurant"in s&&n(0,t=s.restaurant)},[t,i]}class ee extends O{constructor(e){super(),V(this,e,Z,Y,K,{restaurant:0})}}function M(d,e,n){const t=d.slice();return t[6]=e[n],t}function x(d){let e,n;return e=new ee({props:{restaurant:d[6]}}),{c(){R(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,i){W(e,t,i),n=!0},p:$,i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function te(d){let e,n,t,i,s,_,f,o,r,u,k=d[0],l=[];for(let a=0;a<k.length;a+=1)l[a]=x(M(d,k,a));const A=a=>q(l[a],1,1,()=>{l[a]=null});return{c(){e=y("link"),n=y("link"),t=y("link"),i=T(),s=y("div"),_=y("div"),f=y("h1"),o=E("Äh, de e lunch"),r=T();for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){const h=j("svelte-1nuy959",document.head);e=v(h,"LINK",{rel:!0,href:!0}),n=v(h,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=v(h,"LINK",{href:!0,rel:!0}),h.forEach(m),i=D(a),s=v(a,"DIV",{id:!0,class:!0});var c=b(s);_=v(c,"DIV",{class:!0});var w=b(_);f=v(w,"H1",{class:!0});var L=b(f);o=I(L,"Äh, de e lunch"),L.forEach(m),r=D(w);for(let S=0;S<l.length;S+=1)l[S].l(w);w.forEach(m),c.forEach(m),this.h()},h(){p(e,"rel","preconnect"),p(e,"href","https://fonts.googleapis.com"),p(n,"rel","preconnect"),p(n,"href","https://fonts.gstatic.com"),p(n,"crossorigin",""),p(t,"href","https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap"),p(t,"rel","stylesheet"),p(f,"class","header svelte-1iqg28f"),p(_,"class","container svelte-1iqg28f"),p(s,"id","site"),p(s,"class","svelte-1iqg28f")},m(a,h){g(document.head,e),g(document.head,n),g(document.head,t),N(a,i,h),N(a,s,h),g(s,_),g(_,f),g(f,o),g(_,r);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(_,null);u=!0},p(a,[h]){if(h&1){k=a[0];let c;for(c=0;c<k.length;c+=1){const w=M(a,k,c);l[c]?(l[c].p(w,h),H(l[c],1)):(l[c]=x(w),l[c].c(),H(l[c],1),l[c].m(_,null))}for(J(),c=k.length;c<l.length;c+=1)A(c);B()}},i(a){if(!u){for(let h=0;h<k.length;h+=1)H(l[h]);u=!0}},o(a){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)q(l[h]);u=!1},d(a){m(e),m(n),m(t),a&&m(i),a&&m(s),G(l,a)}}}function ne(d){const e=new Date().getDay(),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],i=n[e],s=t[e];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(f){const o=f.querySelector(`#${i.toLowerCase()}`);return o?o.innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(f){const o=Array.from(f.querySelectorAll(".wp-block-group__inner-container")).find(u=>u.children[0].textContent.trim()===s);return o?[...o.children].slice(1).map(u=>u.textContent.trim()).join("<br>"):"No lunch today!"}},{name:"Spill",url:"https://restaurangspill.se/",getHtml(f){const o=f.querySelector("#dagens");try{return o.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[1].childNodes[1].textContent}catch{return"No lunch today!"}}}]]}class ae extends O{constructor(e){super(),V(this,e,ne,te,K,{})}}export{ae as default};
