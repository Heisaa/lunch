import{S as F,i as C,s as K,k as v,q as I,a as M,e as q,l as w,m as S,r as L,h as m,c as x,n as _,b,G as y,u as O,H,o as P,J as R,g as E,f as G,d as D,K as j,y as z,z as J,A as B,B as U,v as W}from"../chunks/index.8cd63e6c.js";function Q(d){let e,n;return{c(){e=v("div"),n=I("Väntar på lunchen"),this.h()},l(t){e=w(t,"DIV",{class:!0});var i=S(e);n=L(i,"Väntar på lunchen"),i.forEach(m),this.h()},h(){_(e,"class","svelte-q9huvy")},m(t,i){b(t,e,i),y(e,n)},p:H,d(t){t&&m(e)}}}function X(d){let e;return{c(){e=v("div"),this.h()},l(n){e=w(n,"DIV",{class:!0});var t=S(e);t.forEach(m),this.h()},h(){_(e,"class","svelte-q9huvy")},m(n,t){b(n,e,t),e.innerHTML=d[1]},p(n,t){t&2&&(e.innerHTML=n[1])},d(n){n&&m(e)}}}function Y(d){let e,n=d[0].name+"",t,i,l;function p(r,h){return r[1]?X:Q}let u=p(d),c=u(d);return{c(){e=v("h2"),t=I(n),i=M(),c.c(),l=q(),this.h()},l(r){e=w(r,"H2",{class:!0});var h=S(e);t=L(h,n),h.forEach(m),i=x(r),c.l(r),l=q(),this.h()},h(){_(e,"class","svelte-q9huvy")},m(r,h){b(r,e,h),y(e,t),b(r,i,h),c.m(r,h),b(r,l,h)},p(r,[h]){h&1&&n!==(n=r[0].name+"")&&O(t,n),u===(u=p(r))&&c?c.p(r,h):(c.d(1),c=u(r),c&&(c.c(),c.m(l.parentNode,l)))},i:H,o:H,d(r){r&&m(e),r&&m(i),c.d(r),r&&m(l)}}}function Z(d,e,n){let{restaurant:t}=e,i;return P(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(t.url)}`).then(l=>{if(l.ok)return l.json();throw new Error("Network response was not ok.")}).then(l=>{n(1,i=t.getHtml(l.contents))})}),d.$$set=l=>{"restaurant"in l&&n(0,t=l.restaurant)},[t,i]}class ee extends F{constructor(e){super(),C(this,e,Z,Y,K,{restaurant:0})}}function V(d,e,n){const t=d.slice();return t[7]=e[n],t}function A(d){let e,n;return e=new ee({props:{restaurant:d[7]}}),{c(){z(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p:H,i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function te(d){let e,n,t,i,l,p,u,c,r,h,g=d[0],s=[];for(let a=0;a<g.length;a+=1)s[a]=A(V(d,g,a));const N=a=>D(s[a],1,1,()=>{s[a]=null});return{c(){e=v("link"),n=v("link"),t=v("link"),i=M(),l=v("div"),p=v("div"),u=v("h1"),c=I("Äh, de e lunch"),r=M();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){const f=R("svelte-izziub",document.head);e=w(f,"LINK",{rel:!0,href:!0}),n=w(f,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=w(f,"LINK",{href:!0,rel:!0}),f.forEach(m),i=x(a),l=w(a,"DIV",{id:!0,class:!0});var o=S(l);p=w(o,"DIV",{class:!0});var k=S(p);u=w(k,"H1",{class:!0});var T=S(u);c=L(T,"Äh, de e lunch"),T.forEach(m),r=x(k);for(let $=0;$<s.length;$+=1)s[$].l(k);k.forEach(m),o.forEach(m),this.h()},h(){_(e,"rel","preconnect"),_(e,"href","https://fonts.googleapis.com"),_(n,"rel","preconnect"),_(n,"href","https://fonts.gstatic.com"),_(n,"crossorigin","anonymous"),_(t,"href","https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap"),_(t,"rel","stylesheet"),_(u,"class","header svelte-8er0m5"),_(p,"class","container svelte-8er0m5"),_(l,"id","site"),_(l,"class","svelte-8er0m5")},m(a,f){y(document.head,e),y(document.head,n),y(document.head,t),b(a,i,f),b(a,l,f),y(l,p),y(p,u),y(u,c),y(p,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(p,null);h=!0},p(a,[f]){if(f&1){g=a[0];let o;for(o=0;o<g.length;o+=1){const k=V(a,g,o);s[o]?(s[o].p(k,f),E(s[o],1)):(s[o]=A(k),s[o].c(),E(s[o],1),s[o].m(p,null))}for(W(),o=g.length;o<s.length;o+=1)N(o);G()}},i(a){if(!h){for(let f=0;f<g.length;f+=1)E(s[f]);h=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)D(s[f]);h=!1},d(a){m(e),m(n),m(t),a&&m(i),a&&m(l),j(s,a)}}}function ne(d){const e=new Date().getDay(),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],i=n[e],l=t[e];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(u){const r=new DOMParser().parseFromString(u,"text/html").querySelector(`#${i.toLowerCase()}`);return(r==null?void 0:r.childNodes[3])instanceof Element?r.childNodes[3].innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(u){const c=new DOMParser().parseFromString(u,"text/html"),r=Array.from(c.querySelectorAll(".wp-block-group__inner-container")).find(g=>{var s,N;return((N=(s=g.children[0])==null?void 0:s.textContent)==null?void 0:N.trim())===l});if(!r)return"No lunch today!";const h=[...r.children].slice(1).map(g=>{var s;return(s=g.textContent)==null?void 0:s.trim()});return console.log(h),h.slice(1).join("<br><br>VEGETARISK:<br>")}},{name:"Spill",url:"https://cms.restaurangspill.se/wp-json/wp/v2/pages/12",getHtml(u){const c=JSON.parse(u);try{return`${c.acf.dagens_primar}<br><br>VEGETARISK:<br>${c.acf.dagens_veg}`}catch{return"No lunch today!"}}},{name:"Mia Maria",url:"http://www.miamarias.nu/",getHtml(u){const r=new DOMParser().parseFromString(u,"text/html").querySelectorAll("div.et_pb_toggle_content");try{return r[e?e-1:0].innerHTML}catch{return"No lunch today!"}}}]]}class se extends F{constructor(e){super(),C(this,e,ne,te,K,{})}}export{se as default};
