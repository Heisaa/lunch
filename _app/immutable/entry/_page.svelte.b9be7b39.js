import{S as C,i as V,s as A,k as v,q as x,a as D,e as L,l as w,m as N,r as E,h as m,c as M,b,G as y,u as P,H,o as j,J as K,n as g,g as S,f as J,d as q,K as B,y as G,z as R,A as U,B as W,v as z}from"../chunks/index.8cd63e6c.js";function Q(f){let e,n;return{c(){e=v("div"),n=x("Väntar på lunchen")},l(t){e=w(t,"DIV",{});var i=N(e);n=E(i,"Väntar på lunchen"),i.forEach(m)},m(t,i){b(t,e,i),y(e,n)},p:H,d(t){t&&m(e)}}}function X(f){let e;return{c(){e=v("div")},l(n){e=w(n,"DIV",{});var t=N(e);t.forEach(m)},m(n,t){b(n,e,t),e.innerHTML=f[1]},p(n,t){t&2&&(e.innerHTML=n[1])},d(n){n&&m(e)}}}function Y(f){let e,n=f[0].name+"",t,i,s;function p(r,d){return r[1]?X:Q}let u=p(f),l=u(f);return{c(){e=v("h2"),t=x(n),i=D(),l.c(),s=L()},l(r){e=w(r,"H2",{});var d=N(e);t=E(d,n),d.forEach(m),i=M(r),l.l(r),s=L()},m(r,d){b(r,e,d),y(e,t),b(r,i,d),l.m(r,d),b(r,s,d)},p(r,[d]){d&1&&n!==(n=r[0].name+"")&&P(t,n),u===(u=p(r))&&l?l.p(r,d):(l.d(1),l=u(r),l&&(l.c(),l.m(s.parentNode,s)))},i:H,o:H,d(r){r&&m(e),r&&m(i),l.d(r),r&&m(s)}}}function Z(f,e,n){let{restaurant:t}=e,i;return j(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(t.url)}`).then(s=>{if(s.ok)return s.json();throw new Error("Network response was not ok.")}).then(s=>{n(1,i=t.getHtml(s.contents))})}),f.$$set=s=>{"restaurant"in s&&n(0,t=s.restaurant)},[t,i]}class ee extends C{constructor(e){super(),V(this,e,Z,Y,A,{restaurant:0})}}function O(f,e,n){const t=f.slice();return t[7]=e[n],t}function T(f){let e,n;return e=new ee({props:{restaurant:f[7]}}),{c(){G(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){U(e,t,i),n=!0},p:H,i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function te(f){let e,n,t,i,s,p,u,l,r,d,_=f[0],o=[];for(let a=0;a<_.length;a+=1)o[a]=T(O(f,_,a));const F=a=>q(o[a],1,1,()=>{o[a]=null});return{c(){e=v("link"),n=v("link"),t=v("link"),i=D(),s=v("div"),p=v("div"),u=v("h1"),l=x("Äh, de e lunch"),r=D();for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){const h=K("svelte-1nuy959",document.head);e=w(h,"LINK",{rel:!0,href:!0}),n=w(h,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=w(h,"LINK",{href:!0,rel:!0}),h.forEach(m),i=M(a),s=w(a,"DIV",{id:!0,class:!0});var c=N(s);p=w(c,"DIV",{class:!0});var k=N(p);u=w(k,"H1",{class:!0});var I=N(u);l=E(I,"Äh, de e lunch"),I.forEach(m),r=M(k);for(let $=0;$<o.length;$+=1)o[$].l(k);k.forEach(m),c.forEach(m),this.h()},h(){g(e,"rel","preconnect"),g(e,"href","https://fonts.googleapis.com"),g(n,"rel","preconnect"),g(n,"href","https://fonts.gstatic.com"),g(n,"crossorigin",""),g(t,"href","https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap"),g(t,"rel","stylesheet"),g(u,"class","header svelte-1iqg28f"),g(p,"class","container svelte-1iqg28f"),g(s,"id","site"),g(s,"class","svelte-1iqg28f")},m(a,h){y(document.head,e),y(document.head,n),y(document.head,t),b(a,i,h),b(a,s,h),y(s,p),y(p,u),y(u,l),y(p,r);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(p,null);d=!0},p(a,[h]){if(h&1){_=a[0];let c;for(c=0;c<_.length;c+=1){const k=O(a,_,c);o[c]?(o[c].p(k,h),S(o[c],1)):(o[c]=T(k),o[c].c(),S(o[c],1),o[c].m(p,null))}for(z(),c=_.length;c<o.length;c+=1)F(c);J()}},i(a){if(!d){for(let h=0;h<_.length;h+=1)S(o[h]);d=!0}},o(a){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)q(o[h]);d=!1},d(a){m(e),m(n),m(t),a&&m(i),a&&m(s),B(o,a)}}}function ne(f){const e=new Date().getDay(),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],i=n[e],s=t[e];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(u){const r=new DOMParser().parseFromString(u,"text/html").querySelector(`#${i.toLowerCase()}`);return r?r.childNodes[3].innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(u){const l=new DOMParser().parseFromString(u,"text/html"),r=Array.from(l.querySelectorAll(".wp-block-group__inner-container")).find(_=>_.children[0].textContent.trim()===s);return r?[...r.children].slice(1).map(_=>_.textContent.trim()).join("<br>"):"No lunch today!"}},{name:"Spill",url:"https://cms.restaurangspill.se/wp-json/wp/v2/pages/12",getHtml(u){const l=JSON.parse(u);console.log(l.acf);try{return l.acf.dagens_primar+"<br>"+l.acf.dagens_veg}catch{return"No lunch today!"}}},{name:"Mia Maria",url:"http://www.miamarias.nu/",getHtml(u){const r=new DOMParser().parseFromString(u,"text/html").querySelectorAll("div.et_pb_toggle_content");console.log(r);try{return[...r].map(d=>d.textContent).join("<br><br>")}catch{return"No lunch today!"}}}]]}class ae extends C{constructor(e){super(),V(this,e,ne,te,A,{})}}export{ae as default};
