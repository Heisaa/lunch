import{S as F,i as C,s as K,k as y,q as L,a as M,e as D,l as w,m as S,r as T,h as _,c as x,n as p,b,G as v,u as P,H as E,o as R,J as G,g as N,f as j,d as I,K as z,y as J,z as B,A as U,B as W,v as Q}from"../chunks/index.8cd63e6c.js";function X(d){let e,n;return{c(){e=y("div"),n=L("Väntar på lunchen"),this.h()},l(t){e=w(t,"DIV",{class:!0});var i=S(e);n=T(i,"Väntar på lunchen"),i.forEach(_),this.h()},h(){p(e,"class","svelte-q9huvy")},m(t,i){b(t,e,i),v(e,n)},p:E,d(t){t&&_(e)}}}function Y(d){let e;return{c(){e=y("div"),this.h()},l(n){e=w(n,"DIV",{class:!0});var t=S(e);t.forEach(_),this.h()},h(){p(e,"class","svelte-q9huvy")},m(n,t){b(n,e,t),e.innerHTML=d[1]},p(n,t){t&2&&(e.innerHTML=n[1])},d(n){n&&_(e)}}}function Z(d){let e,n=d[0].name+"",t,i,o;function u(r,h){return r[1]?Y:X}let f=u(d),a=f(d);return{c(){e=y("h2"),t=L(n),i=M(),a.c(),o=D(),this.h()},l(r){e=w(r,"H2",{class:!0});var h=S(e);t=T(h,n),h.forEach(_),i=x(r),a.l(r),o=D(),this.h()},h(){p(e,"class","svelte-q9huvy")},m(r,h){b(r,e,h),v(e,t),b(r,i,h),a.m(r,h),b(r,o,h)},p(r,[h]){h&1&&n!==(n=r[0].name+"")&&P(t,n),f===(f=u(r))&&a?a.p(r,h):(a.d(1),a=f(r),a&&(a.c(),a.m(o.parentNode,o)))},i:E,o:E,d(r){r&&_(e),r&&_(i),a.d(r),r&&_(o)}}}function ee(d,e,n){let{restaurant:t}=e,i;return R(async()=>{fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(t.url)}`).then(o=>{if(o.ok)return o.json();throw new Error("Network response was not ok.")}).then(o=>{n(1,i=t.getHtml(o.contents))})}),d.$$set=o=>{"restaurant"in o&&n(0,t=o.restaurant)},[t,i]}class te extends F{constructor(e){super(),C(this,e,ee,Z,K,{restaurant:0})}}function V(d,e,n){const t=d.slice();return t[6]=e[n],t}function A(d){let e,n;return e=new te({props:{restaurant:d[6]}}),{c(){J(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){U(e,t,i),n=!0},p:E,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function ne(d){let e,n,t,i,o,u,f,a,r,h,g=d[0],s=[];for(let l=0;l<g.length;l+=1)s[l]=A(V(d,g,l));const O=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=y("link"),n=y("link"),t=y("link"),i=M(),o=y("div"),u=y("div"),f=y("h1"),a=L("Äh, de e lunch"),r=M();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){const m=G("svelte-izziub",document.head);e=w(m,"LINK",{rel:!0,href:!0}),n=w(m,"LINK",{rel:!0,href:!0,crossorigin:!0}),t=w(m,"LINK",{href:!0,rel:!0}),m.forEach(_),i=x(l),o=w(l,"DIV",{id:!0,class:!0});var c=S(o);u=w(c,"DIV",{class:!0});var k=S(u);f=w(k,"H1",{class:!0});var q=S(f);a=T(q,"Äh, de e lunch"),q.forEach(_),r=x(k);for(let H=0;H<s.length;H+=1)s[H].l(k);k.forEach(_),c.forEach(_),this.h()},h(){p(e,"rel","preconnect"),p(e,"href","https://fonts.googleapis.com"),p(n,"rel","preconnect"),p(n,"href","https://fonts.gstatic.com"),p(n,"crossorigin","anonymous"),p(t,"href","https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap"),p(t,"rel","stylesheet"),p(f,"class","header svelte-8er0m5"),p(u,"class","container svelte-8er0m5"),p(o,"id","site"),p(o,"class","svelte-8er0m5")},m(l,m){v(document.head,e),v(document.head,n),v(document.head,t),b(l,i,m),b(l,o,m),v(o,u),v(u,f),v(f,a),v(u,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(u,null);h=!0},p(l,[m]){if(m&1){g=l[0];let c;for(c=0;c<g.length;c+=1){const k=V(l,g,c);s[c]?(s[c].p(k,m),N(s[c],1)):(s[c]=A(k),s[c].c(),N(s[c],1),s[c].m(u,null))}for(Q(),c=g.length;c<s.length;c+=1)O(c);j()}},i(l){if(!h){for(let m=0;m<g.length;m+=1)N(s[m]);h=!0}},o(l){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)I(s[m]);h=!1},d(l){_(e),_(n),_(t),l&&_(i),l&&_(o),z(s,l)}}}const $=2;function re(d){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],t=e[$],i=n[$];return[[{name:"P2",url:"https://www.restaurangp2.se/lunch",getHtml(u){const a=new DOMParser().parseFromString(u,"text/html").querySelector(`#${t.toLowerCase()}`);return(a==null?void 0:a.childNodes[3])instanceof Element?a.childNodes[3].innerHTML:"No lunch today!"}},{name:"Ubåtshallen",url:"https://www.ubatshallen.se/",getHtml(u){const f=new DOMParser().parseFromString(u,"text/html"),a=Array.from(f.querySelectorAll(".wp-block-group__inner-container")).find(h=>{var g,s;return((s=(g=h.children[0])==null?void 0:g.textContent)==null?void 0:s.trim())===i});if(!a)return"No lunch today!";const r=[...a.children].slice(1).map(h=>{var g;return(g=h.textContent)==null?void 0:g.trim()});return console.log(r),r.slice(1).join("<br><br>VEGETARISK:<br>")}},{name:"Spill",url:"https://cms.restaurangspill.se/wp-json/wp/v2/pages/12",getHtml(u){const f=JSON.parse(u);try{return`${f.acf.dagens_primar}<br><br>VEGETARISK:<br>${f.acf.dagens_veg}`}catch{return"No lunch today!"}}},{name:"Mia Maria",url:"http://www.miamarias.nu/",getHtml(u){const a=new DOMParser().parseFromString(u,"text/html").querySelectorAll("div.et_pb_toggle_content");console.log(a);try{return a[$-1].innerHTML}catch{return"No lunch today!"}}}]]}class ae extends F{constructor(e){super(),C(this,e,re,ne,K,{})}}export{ae as default};
